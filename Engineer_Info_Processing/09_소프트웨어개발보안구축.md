# 9. 소프트웨어 개발 보안 구축
## 1. 소프트웨어 개발 보안 설계
### 소프트웨어 개발 보안의 3대 요소
#### 1. 기밀성(Confidentiality)
- 인가되지 않은 개인 혹은 시스템 접근에 따른 정보 공개 및 노출을 차단하는 특성

#### 2. 무결성(Integrity)
- 정당한 방법을 따르지 않고서는 데이터가 변경될 수 없으며, 데이터의 정확성 및 완전성과 고의/악의로 변경되거나 훼손 또는 파괴되지 않음을 보장하는 특성

#### 3. 가용성(Availability)
- 권한을 가진 사용자나 애플리케이션이 원하는 서비스를 지속해서 사용할 수 있도록 보장하는 특성

### 소프트웨어 개발 보안을 위한 공격기법 - DoS 공격
- 시스템을 악의적으로 공격해서 해당 시스템이 자원을 부족하게 하여 원래 의도된 용도로 사용하지 못하게 하는 공격
- 특정 서버에 **수많은 접속 시도**를 만들어 다른 이용자가 정상적으로 서비스 이용을 하지 못하게 하거나, 서버의 TCP 연결을 소진시키는 등의 공격

DoS 공격에는 아래와 같은 항목이 존재함

#### 1. SYN Flooding
- TCP 프로토콜의 구조적인 문제를 이용한 공격
- 서버의 동시 가용 사용자 수를 SYN 패킷만 보내 점유하여 다른 사용자가 서버를 사용 불가능하게 하는 공격
- 공격자는 ACK를 발송하지 않고 계속 새로운 연결 요청을 하게 됨으로 서버는 자원 할당을 해지하지 않고 자원만 소비하여 고갈됨

#### 2. UDP Flooding
- 대량의 UDP 패킷을 만들어 임의의 포트 번호로 전송하여 응답 메시지를 생성하게 하여 지속해서 자원을 고갈시키게 하는 공격
- ICMP 패킷은 변조되어 공격자에게 전달되지 않아 대기함

#### 3. Smurfing(스머프/스머핑)
- 출발지 주소를 공격 대상의 IP로 설정하여 네트워크 전체에게 ICMP Echo 패킹을 직접 브로드캐스팅하여 마비시키는 공격
- 바운스 사이트라고 불리는 제 3 사이트를 이용하여 공격

#### 4. PoD(Ping of Death, 죽음의 핑)
- ICMP 패킷(Ping)을 정상적인 크기보다 아주 크게 만들어 전송하면 다수의 IP 단편화가 발생하고, 수신 측에서는 단편화된 패킷을 처리(재조합)하는 과정에서 많은 부하가 발생하거나, 재조합 버퍼의 오버플로우가 발생하여 정상적인 서비스를 하지 못하도록 하는 공격기법

#### 5. Land Attack(랜드 어택)
- 출발지 IP와 목적지 IP를 같은 패킷 주소로 만들어 보냄으로 수신자가 자기 자신에게 응답을 보내게 하여 시스템의 가용성을 침해하는 공격기법

#### 6. Tear Drop(티어 드롭)
- IP 패킷의 재조합 과정에서 잘못된 Fragment Offset 정보로 인해 수신시스템이 문제를 발생하도록 만드는 DoS 공격
- 공격자는 IP Fragment Offset값을 서로 중첩되도록 조작하여 전송하고, 이를 수신한 시스템이 재조합하는 과정에서 오류가 발생. 시스템의 기능을 마비시키기는 공격 방식

#### 7. Bonk/Boink(봉크/보잉크)
- 프로토콜의 오류 제어를 이용한 공격기법으로, 시스템의 패킷 재전송과 재조립이 과부하를 유발한다.
- Bonk : 같은 시퀀스 번호를 계속 보냄 / Boink : 일정한 간격으로 시퀀스 번호에 빈 공간을 생성함

### 소프트웨어 개발 보안을 위한 공격기법 - DDoS 공격
- DoS의 또다른 형태. 여러 대의 공격자를 분산 배치하여 동시에 동작하게 함으로 특정 사이트를 공격하는 기법
- 해커들이 취약한 인터넷 시스템에 대한 액세스가 이뤄지면, 침입한 시스템에 소프트웨어를 설치하고 이를 실행시켜 원격으로 공격으로 개시한다.
- 공격의 종류에는 DoS를 포함하여 서비스 마비 공격과 대역폭 소진 공격으로 나눈다.

### DRDoS 공격
- 공격자는 출발지 IP를 공격대상 IP로 위조하여 다수의 반사 서버를 요청 정보를 전송. 공격 대상자는 반사 서버로부터 다량의 응답을 받아 서비스 거부가 되는 공격

### 네트워크 공격의 종류
#### 1. Sniffing(스니핑)
- 공격대상에세 직접 공격을 하지 않고 데이터만 몰래 들여다보는 수동적 공격 기법

#### 2. Scanner, Sniffer(네트워크 스캐너, 스니퍼)
- 네트워크 하드웨어 및 소프트웨어 구성의 취약점 파악을 위해 공격자가 취약점을 탐색하는 공격 도구

#### 3. Password Cracking(패스워드 크래킹)
- 사전 크래킹(가능성 단어 검색) 공격, 무차별 크래킹 공격, 패스워드 하이브리드 공격(사전+무차별), 레인보우 테이블(패스워드별 해시값 테이블 생성) 공격 활용

#### 4. IP Spoofing(IP 스푸핑)
- 침입자가 인증된 컴퓨터 시스템인 것처럼 속여서 타깃 시스템의 정보를 빼내기 위해 본인의 패킷 헤더를 인증된 호스트의 IP 어드레스로 위조하여 타깃에 전송하는 공격기법

#### 5. ARP Spoofing(ARP 스푸핑)
- 공격자가 특정 호스트의 MAC 주소를 자신의 MAC 주소로 위조한 ARP Relay를 만들어 희생자에게 지속적으로 전송하여 희생자의 ARP Cache Table에 특정 호스트의 MAC 정보를 공격자의 MAC 정보로 변경. 희생자로부터 특정 호스트로 나가는 패킷을 공격자가 스니핑하는 공격기법

#### 6. ICMP Redirect 공격
- 3계층에서 스니핑 시스템을 네트워크에 존재하는 또 다른 라우터라 알림으로 패킷의 흐름을 바꾸는 공격기법
- ICMP Redirect 메시지를 공격자가 원하는 형태로 만들어서 특정 목적지로 가는 패킷을 공격자가 스니핑하는 공격기법

#### 7. Trojan Horses(트로이 목마)
- 악성 루틴이 숨어 있는 프로그램. 겉보기에 정상 프로그램 같지만, 실행하면 악성 코드를 실행하는 프로그램

### Buffer Overflow Attack(버퍼 오버플로우 공격)
- 메모리에 할당된 버퍼 크기를 초과하는 양의 데이터를 입력하여 이로 인해 프로세스의 흐름을 변경시켜 악성 코드를 실행시키는 공격기법
- 스택 버퍼 오버플로우 공격과 힙 버퍼 오버플로우 공격이 있다.

### Backdoor(백도어)
- 어떤 제품이나 컴퓨터 시스템, 암호시스템 혹은 알고리즘에서 정상적인 인증 절차를 우회하는 기법
- 허가받지 않고 시스템에 접속하는 권리를 얻기에 은밀하게 작동함

### 이외 보안 관련 용어
#### 1. Spear Phishing(스피어 피싱)
- 사회 공학의 한 기법. 특정 대상을 선정한 후 그 대상에게 일반적인 이메일로 위장한 메일을 지속적으로 발송하여, 발송 메일의 본문 링크나 첨부된 파일을 클릭하도록 유도하여 사용자의 개인 정보를 탈취하는 공격기법

#### 2. Smishing(스미싱)
- SMS과 피싱의 합성어
- 문자메시지를 이용하여 신뢰할 수 있는 사람/기업이 보낸 것 처럼 가장하여 개인 비밀번호를 요구하거나, 소액 결제를 유도하는 피싱 공격

#### 3. Qshing(큐싱)
- QR code와 피싱의 합성어
- 스마트폰을 이용하여 인증 등이 필요한 것처럼 가장하여 QR 코드를 통해 악성 앱을 내려받로록 유도하는 피싱 공격

#### 4. Botnet(봇넷)
- 악성 프로그램에 감염되어 악의적인 의도로 사용될 수 있는 다수의 컴퓨터들이 네트워크로 연결된 형태

#### 5. Advanced Persistant Threat(APT 공격)
- 특정 타깃을 목표로 하여 다양한 수단을 통한 지속적이고 지능적인 맞춤형 공격기법
- 특수목적의 조직이 하나의 표적에 대해 다양한 IT 기술을 이용하여, 지속적으로 정보를 수집하고 취약점을 분석하여 피해를 주는 공격기법

#### 6. Supply Chain Attack(공급망 공격)
- 소프트웨어 개발사 네트워크에 침투하여 소스 코드 수정 등을 통해 악의적인 코드를 삽입. 배포 서버에 접근하여 악의적인 파일로 변경하는 방식을 통해 사용자에게 감염되도록 하는 공격기법

#### 7. Zero Day Attack(제로 데이 공격)
- 보안 취약점이 발견되어 널리 공표되기 전에 해당 취약점을 악용하여 이루어지는 보안 공격기법
- 공격의 신속성을 의미하여 대응책이 공표되기도 전에 공격이 이루어지기에 대처 방법이 없음

#### 8. Worm(웜)
- 스스로를 복제하여 네트워크 등의 연결을 통하여 전파하는 악성 소프트웨어 컴퓨터 프로그램
- 컴퓨터 바이러스와 비슷하지만, 바이러스가 다른 실행 프로그램에 기생하여 실행되는 데 반해 웜은 독자적으로 실행되며 다른 실행 프로그램이 필요하지 않다는 특징을 가짐

#### 9. Malicious Bot(악성 봇)
- 스스로 실행되지 못하고, 해커의 명령에 의해 원격에서 제어 또는 실행이 가능한 프로그램/코드
- 취약점, 백도어 등을 이용하여 전파되며, DDoS에 악용됨

#### 10. Cyber Kill Chain(사이버 킬 체인)
- 록히드 마틴의 사이버 킬체인을 공격형 방위 시스템으로 지능적, 지속적 사이버 공격에 대해 7단계 프로세스별 공격분석 및 대응을 체계화한 APT 공격 방어 분석 모델

#### 11. Ransomware(랜섬웨어)
- 감염된 시스템 파일을 암호화하여 복호화할 수 없도록 하고, 피해자로 하여금 암호화된 파일을 인질처럼 잡고 몸값을 요구하는 악성 소프트웨어

#### 12. Evil Twin Attack(이블 트윈 공격)
- 무선 Wifi 피싱 기법으로 공격자는 합법적인 Wifi 제공자처럼 행세하며 노트북이나 휴대 전화로 핫스팟에 연결한 무선 사용자들의 정보를 탈취하는 무선 네트워크 공격기법

#### 13. Obfuscation(난독화)
- 코드의 가독성을 낮춰 역공학에 대한 대비를 하기 위해서 프로그램 코드의 일부 또는 전체를 변경하는 기법
- 난독화를 적용하는 범위에 따라 소스 코드 난독화와 바이너리 난독화로 나눔

#### 14. Tripwire
- 크래커가 침입하여 시스템에 백도어를 만들어놓거나 설정 파일을 변경해 놓았을 때 이러한 사실을 알 수 있게 분석하는 도구
- 시스템 내의 지정한 중요한 디렉토리와 파일에 대한 데이터베이스를 생성한 후에 Tripwire를 실행할 때 새로 생성된 데이터베이스와 비교하여 그 차이점을 체크함으로 시스템 관리자가 시스템 내에서 어떤 변화가 있는지 감지할 수 있게 해주는 도구

#### 15. Ping
- 인터넷으로 접속하려는 원격 호스트가 정상적으로 운영되고 있는지를 확인하는 진단 목적으로 사용하는 명령어

#### 16. Tcpdump
- 네트워크 인터페이스를 거치는 패킷의 내용을 출력해주는 프로그램
- 스니핑 도구의 일종으로 자신의 컴퓨터로 들어오는 모든 패킷의 내용을 도청할 수 있으며, 공격자에 대한 추적 및 공격 유형 분석을 위한 패킷 분석 시 활용할 수 있는 도구

#### 17. SQL Injection
- 응용 프로그램의 보안 취약점을 이용해 악의적인 SQL 구문을 삽입, 실행시켜 데이터베이스의 접근을 통해 정보를 탈취하거나 조작 등의 행위를 하는 공격기법


### 서버 접근 통제 유형
#### 1. 임의적 접근 통제(DAC; Discretionary Access Control)
- 시스템에 대한 접근을 사용자/그룹의 신분 기반으로 제한하는 방법
- DAC에서 사용자는 자원과 관련된 ACL(Access Control List)이 수정됨으로 자원에 대한 권한을 부여받는다.

#### 2. 강제적 접근 통제(MAC; Mandatory Access Control)
- 시스템 정보의 허용등급을 기준으로 사용자가 갖는 접근 허가 권한에 근거하여 시스템에 대한 접근을 제한하는 방법
- 관리자만이 시스템 자원에 대한 권한을 할당할 수 있음

#### 3. 역할기반 접근 통제(RBAC; Role Based Access Control)
- 중앙 관리자가 사용자와 시스템의 상호관계를 통제하며 조직 내 맡은 역할에 기초하여 자원에 대한 접근을 제한하는 방법
- RBAC에서 자원에 대한 접근은 사용자에게 할당된 역할에 기반함
- 관리자는 사용자에게 특정한 권리와 권한이 정의된 역할을 할당함


암호화 방식에는 **양방향**과 **단방향**이 있다.
- **단방향**에는 **HASH 함수**가 존재함
- **양방향**에는 **개인키(대칭)**와 **공개키**가 존재함
  - **개인키**에는 **Stream 방식**(같은 키 길이를 연속적으로 생성)과 **Block 방식**(평문을 일정한 Block으로 나눔)이 존재
  - Stream 방식에는 RC4, Block 방식에는 DES, AES, SEED 등이 존재


### IPSec
- IP 계층에서 무결성과 인증을 보장하는 인증 헤더(AH)와 기밀성을 보장하는 암호화(ESP)를 이용한 IP  보안 프로토콜

## 2. 소프트웨어 개발 보안 구현

### 입력 데이터 검증 및 표현 취약점
#### 1. XSS(Cross Site Script)
- 검증되지 않은 외부 입력 데이터가 포함된 웹페이지가 전송되는 경우, 사용자가 해당 웹페이지를 열람함으로 웹페이지에 포함된 부적절한 스크립트가 실행되는 공격

#### 2. CSRF(Cross Site Request Forgery, 사이트 간 요청 위조)
- 사용자가 자신의 의지와는 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하게 하는 공격

#### 3. SQL Injection(SQL 삽입)
- 응용 프로그램의 보안 취약점을 이용해 악의적 SQL 구문을 삽입, 실행시켜 데이터베이스의 접근을 통해 정보를 탈취하거나 조작 등의 행위를 하는 공격기법

### 비즈니스 연속성 계획 관련 주요 용어
#### 1. BIA(Business Impact Analysis)
- 장애나 재해로 인해 운영상의 주요 손실을 볼 것을 가정하여 시간 흐름에 따른 영향도 및 손실평가를 조사하는 BCP를 구축하기 위한 비즈니스 영향 분석

#### 2. RTO(Recovery Time Objective)
- 업무중단 시점부터 업무가 복구되어 다시 가동될 때까지의 시간
- 재해 시 복구 목표 시간의 선정

#### 3. RPO(Recovery Point Objective)
- 업무중단 시점부터 데이터가 복구되어 다시 정상가동될 때 데이터의 손실 허용 시점
- 재해 시 복구 목표 지점의 선정

#### 4. DRP(Disaster Recovery Plan)
- 재난으로 장기간에 걸쳐 시설의 운영이 불가능한 경우를 대비한 재난 복구 계획

#### 5. DRS(Disaster Recovery System)
- 재해복구계획의 원활한 수행을 지원하기 위하여 평상시에 확보하여 두는 인적, 물적 자원 및 이들에 대한 지속적인 관리체계가 통합된 재해복구센터

### 보안 공격 관련 중요 용어
#### 1. Side Channel Attack(부 채널 공격)
- 암호화 알고리즘의 실행 시기의 전력 소비, 전자기파 방사 등의 물리적 특성을 측정하여 암호 키 등 내부 비밀 정보를 부 채널에서 획득하는 공격 기법

#### 2. Drive By Download(드라이브 바이 다운로드)
- 악의적인 해커가 불특정 웹 서버와 웹 페이지에 악성 스크립트를 설치하고, 불특정 사용자 접속 시 사용자 동의 없이 실행되어 의도된 서버로 연결하여 감염시키는 공격기법

#### 3. Watering Hole(워터링 홀)
- 특정인에 대한 표적 공격을 목적으로 특정인이 잘 방문하는 웹 사이트에 악성코드를 심거나 악성코드를 배포하는 URL로 자동으로 유인하여 감염시키는 공격기법

#### 4. SCAM(스캠 공격)
- 기업 이메일 계정을 도용하여 무역 거래 대금을 가로채는 사이버 범죄

#### 5. HeartBlood(하트블러드)
- OpenSSL 암호화 라이브러리의 하트비트라는 확장 모듈에서 클라이언트 요청 메시지를 처리할 때 데이터 길이에 대한 검증을 수행하지 않는 취약점을 이용하여 시스템 메모리에 저장된 64KB 크기의 데이터를 외부에서 아무런 제한 없이 탈취할 수 있도록 하는 취약점

#### 6. Crimeware(크라임웨어)
- 중요한 금융정보 또는 인증정보를 탈취하거나 유출을 유도하여 금전적인 이익 등의 범죄행위를 목적으로 하는 악성코드

#### 7. IoT-SSDP(Simple Servie Discovery Protocol. 프로토콜 취약점)
- 단순 서비스 검색 프로토콜(SSDP)의 특성을 활용하여 IoT Device를 좀비 PC로 이용한 분산 서비스 거부 공격

#### 8. WindTalker(윈드토커)
- 와이파이/핫스팟 연결 디바이스의 터치스크린, 키보드 타이핑 등의 CSI(Channel State Information) 무선신호패턴을 스니핑하여 해킹하는 기술

#### 9. Tor Network(토르 네트워크)
- 네트워크 경로를 알 수 없도록 암호화 기법을 사용하여 데이터를 전송하며, 익명으로 인터넷을 사용할 수 있는 가상 네트워크

#### 10. Meltdown(멜트다운)
- 인텔 x86 아키텍처에서 CPU  파이프라인의 비순차 명령 실행 시 발생하는 버그를 악용해서 커널 사용자 영역의 우회를 통해 시스템 메모리에 접근하여 내용을 확인할 수 있는 취약점

#### 11. Spectre(스펙터)
- 실패한 분기 예측으로 인해 메모리 데이터가 관찰될 수 있는 취약점을 이용하여 사용자 프로그램이 다른 사용자 프로그램의 메모리 영역을 훔쳐보고 정보를 탈취할 수 있는 취약점
- 분기 예측이 적용된 모든 현대 마이크로프로세서에 영향을 주는 하드웨어 보안취약점

#### 12. MITM 공격(Man in the Middle)
- 네트워크 통신을 조작하여 통신 내용을 도청 및 조작하는 공격기법
- 통신을 연결하는 두 사람 사이 중간에 침입하여 두 사람의 정보를 탈취하는 중간자 공격

#### 13. DNS Spoofing(DNS 스푸핑 공격)
- 공격 대상에게 전달되는 DNS 응답을 조작하거나 DNS 서버의 캐시 정보를 조작하여 희생자가 의도하지 않은 주소로 접속하게 만드는 공격기법
- DNS Cache Poisoning 이라고도 불림

#### 14. Port Scanning(포트 스캐닝)
- 공격자가 침입 전 대상 호스트에 어떤 포트가 활성화되어 있는지 확인하는 기법
- 취약점을 분석하기 위한 사전 작업

#### 15. Directory Listing(디렉토리 리스팅 취약점)
- 웹 애플리케이션을 사용하고 있는 서버의 미흡한 설정으로 인해 인덱싱 기능이 활성화되어 있을 경우, 공격자가 강제 브라우징을 통해서 서버 내의 모든 디렉토리 및 파일 목록을 볼 수 있는 취약점

#### 16.  Reverse Shell(리버스 쉘 공격)
- 타깃 서버가 클라이언트(공격자)로 접속해서 클라이언트가 타깃 서버의 쉘을 획득해 공격하는 기법

#### 17. Exploit(익스플로잇)
- 소프트웨어나 하드웨어의 버그 또는 취약점을 이용하여 공격자가 의도한 동작이나 명령을 실행하도록 하는 코드 또는 그러한 행위

#### 18. Stuxnet(스턱스넷 공격)
- 독일 지멘스사의 SCADA 시스템을 공격 목표로 제작된 악성코드로 원자력, 전기, 철강, 반도체, 화학 등 주요 산업 기반 시설의 제어 시스템에 침투해 오작동을 일으키는 악성코드 공격기법

#### 19. Credential Stuffing(크레덴셜 스터핑)
- 사용자 계정을 탈취해서 공격하는 유형 중 하나
- 다른 곳에서 유출된 아이디와 비밀번호 등의 로그인 정보를 다른 웹 사이트나 앱에 무작위로 대입해 로그인이 이루어지면 타인의 정보를 유출시키는 기법